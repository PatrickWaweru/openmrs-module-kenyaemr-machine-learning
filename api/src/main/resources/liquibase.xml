<?xml version="1.0" encoding="UTF-8"?>
 
<databaseChangeLog 
    xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">
 
    <!--
    	See http://wiki.openmrs.org/display/docs/Module+liquibase+File for 
    	documentation on this file.
    
        See http://www.liquibase.org/manual/home#available_database_refactorings
        for a list of supported elements and attributes
    -->
 
	<changeSet id="kenyaemr-ML-table-risk-score-20220324-231000" author="aojwang">
		<preConditions onFail="MARK_RAN">
			<not><tableExists tableName="kenyaemr_ml_patient_risk_score"/></not>
		</preConditions>
		<comment>
			Creating the kenyaemr_ml_patient_risk_score table
		</comment>
		<createTable tableName="kenyaemr_ml_patient_risk_score">
			<column name="id" type="int" autoIncrement="true">
				<constraints primaryKey="true" nullable="false"/>
			</column>
			<column name="source_system_uuid" type="char(38)">
				<constraints nullable="false" unique="false"></constraints>
			</column>
            <column name="patient_id" type="int">
                <constraints nullable="true"/>
            </column>
            <column name="risk_score" type="double">
                <constraints nullable="false"/>
            </column>
            <column name="evaluation_date" type="datetime">
                <constraints nullable="true"/>
            </column>
            <column name="creator" type="int">
                <constraints nullable="false"/>
            </column>
            <column name="date_created" type="datetime">
                <constraints nullable="false"/>
            </column>
            <column name="changed_by" type="int"/>
            <column name="date_changed" type="datetime"/>
            <column defaultValueBoolean="false" name="voided" type="boolean">
                <constraints nullable="false"/>
            </column>
            <column name="voided_by" type="int"/>
            <column name="date_voided" type="datetime"/>
            <column name="voided_reason" type="varchar(255)"/>
		</createTable>
        <addForeignKeyConstraint constraintName="patient_risk_score_creator"
                                 baseTableName="kenyaemr_ml_patient_risk_score" baseColumnNames="creator"
                                 referencedTableName="users" referencedColumnNames="user_id"/>
        <addForeignKeyConstraint constraintName="patient_risk_score_changed_by"
                                 baseTableName="kenyaemr_ml_patient_risk_score" baseColumnNames="changed_by"
                                 referencedTableName="users" referencedColumnNames="user_id"/>
        <addForeignKeyConstraint constraintName="patient_risk_score_patient_pk"
                                 baseTableName="kenyaemr_ml_patient_risk_score" baseColumnNames="patient_id"
                                 referencedTableName="patient" referencedColumnNames="patient_id"/>
    </changeSet>

    <changeSet id="kenyaemr-ML-index-risk-score-20220324-233000" author="aojwang">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="kenyaemr_ml_patient_risk_score"/>
            <not>
                <indexExists indexName="index_risk_score_evaluation_date"/>
            </not>
        </preConditions>
        <createIndex indexName="index_risk_score_evaluation_date" tableName="kenyaemr_ml_patient_risk_score" unique="true">
            <column name="evaluation_date"/>
            <column name="patient_id"/>
        </createIndex>
    </changeSet>


    <!-- Add description field to the ML table -->
    <changeSet author="pwaweru" id="kenyaemr-ML-description-field-20220726-123630"> 
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="kenyaemr_ml_patient_risk_score"/>
            <not>
                <columnExists columnName="description" tableName="kenyaemr_ml_patient_risk_score"/>
            </not>
        </preConditions>
        <comment>Adding description column</comment>
        <addColumn tableName="kenyaemr_ml_patient_risk_score" >
            <column name="description"  
                type="varchar(128)" >  
                <constraints nullable="true" />  
            </column>  
        </addColumn>  
    </changeSet>

    <!-- Add risk_factors field to the ML table -->
    <changeSet author="pwaweru" id="kenyaemr-ML-riskfactors-field-20220726-123630"> 
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="kenyaemr_ml_patient_risk_score"/>
            <not>
                <columnExists columnName="risk_factors" tableName="kenyaemr_ml_patient_risk_score"/>
            </not>
        </preConditions>
        <comment>Adding risk factors column</comment>
        <addColumn tableName="kenyaemr_ml_patient_risk_score" >
            <column name="risk_factors"  
                type="varchar(4096)" >  
                <constraints nullable="true" />  
            </column>  
        </addColumn>  
    </changeSet>

    <!-- Add not null constraint to the patient_id column -->
    <changeSet author="pwaweru" id="kenyaemr-ML-patientid-field-20220919-215430"> 
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="kenyaemr_ml_patient_risk_score"/>
            <columnExists columnName="patient_id" tableName="kenyaemr_ml_patient_risk_score"/>
        </preConditions>
        <comment>Adding not null constraint to patient_id column</comment>
        <addNotNullConstraint 
           columnDataType="int"  
           columnName="patient_id" 
           tableName="kenyaemr_ml_patient_risk_score"/>
    </changeSet>

    <!-- Add not null constraint to the description column -->
    <changeSet author="pwaweru" id="kenyaemr-ML-description-field-20220920-231430"> 
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="kenyaemr_ml_patient_risk_score"/>
            <columnExists columnName="description" tableName="kenyaemr_ml_patient_risk_score"/>
            <not>
                <indexExists indexName="index_risk_score_description"/>
            </not>
        </preConditions>
        <comment>Adding not null constraint to description column</comment>
        <addNotNullConstraint 
           columnDataType="varchar(128)"  
           columnName="description" 
           tableName="kenyaemr_ml_patient_risk_score"/>
    </changeSet>

    <!-- Optimize the description field in the risk score table by reducing field size and adding an index -->
    <changeSet author="pwaweru" id="kenyaemr-ML-optimize-description-field-20230509-100030"> 
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="kenyaemr_ml_patient_risk_score"/>
            <columnExists columnName="description" tableName="kenyaemr_ml_patient_risk_score"/>
            <not>
                <indexExists indexName="index_risk_score_description"/>
            </not>
        </preConditions>
        <comment>Modify description field size and add index</comment>
        <modifyDataType
            columnName="description"
            newDataType="varchar(128)"
            tableName="kenyaemr_ml_patient_risk_score"/>
        <createIndex indexName="index_risk_score_description" tableName="kenyaemr_ml_patient_risk_score" unique="false">
            <column name="description"/>
        </createIndex>
    </changeSet>

    <changeSet id="kenyaemr-ML-run-IIT-ML-20230728-100030" author="pwaweru">
        <preConditions onFail="MARK_RAN">
            <sqlCheck expectedResult="0">
                SELECT COUNT(*) FROM scheduler_task_config
                WHERE schedulable_class = 'org.openmrs.module.kenyaemrml.task.GenerateIITMLPredictionsTask'
                And name = 'Generate IIT ML Predictions'
            </sqlCheck>
        </preConditions>
        <comment>Inserting processor for generating IIT ML into 'schedule_task_config' table</comment>
        <insert tableName="scheduler_task_config">
            <column name="name" value="Generate IIT ML Predictions" />
            <column name="description" value="Generate IIT ML Predictions For Patients with new GreenCard Encounters" />
            <column name="schedulable_class" value="org.openmrs.module.kenyaemrml.task.GenerateIITMLPredictionsTask" />
            <column name="start_time_pattern" value="MM/dd/yyyy HH:mm:ss" />
            <column name="start_time" valueDate="2023-07-27T15:00:00" />
            <column name="repeat_interval" value="86400" />
            <column name="date_created" valueDate="CURRENT_TIMESTAMP" />
            <column name="created_by" value="1" />
            <column name="start_on_startup" value="1" />
            <column name="started" value="0" />
            <column name="uuid" value="ace6779c-d330-4a73-8724-ae3b0c496a54" />
        </insert>
    </changeSet>

    <!-- Add payload field to the IIT ML table -->
    <changeSet author="pwaweru" id="kenyaemr-ML-payload-field-20231106-123630"> 
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="kenyaemr_ml_patient_risk_score"/>
            <not>
                <columnExists columnName="payload" tableName="kenyaemr_ml_patient_risk_score"/>
            </not>
        </preConditions>
        <comment>Adding payload column</comment>
        <addColumn tableName="kenyaemr_ml_patient_risk_score" >
            <column name="payload"  
                type="varchar(3072)" >  
                <constraints nullable="true" />  
            </column>  
        </addColumn>  
    </changeSet>

    <!-- Add mfl and ccc fields to the IIT ML table -->
    <changeSet author="pwaweru" id="kenyaemr-ML-ccc-mfl-fields-20231107-143630">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="kenyaemr_ml_patient_risk_score"/>
            <not>
                <columnExists columnName="mflCode" tableName="kenyaemr_ml_patient_risk_score"/>
            </not>
            <not>
                <columnExists columnName="cccNumber" tableName="kenyaemr_ml_patient_risk_score"/>
            </not>
        </preConditions>
        <comment>Adding mfl and ccc columns</comment>
        <addColumn tableName="kenyaemr_ml_patient_risk_score" >
            <column name="mflCode"
                type="varchar(128)" >
                <constraints nullable="true" />
            </column> 
            <column name="cccNumber"
                type="varchar(128)" >
                <constraints nullable="true" />
            </column>
        </addColumn>
    </changeSet>

    <!-- Add IIT ML Debug fields to the IIT ML table -->
    <changeSet author="pwaweru" id="kenyaemr-ML-debug-fields-20231106-193630">
        <preConditions>
            <tableExists tableName="kenyaemr_ml_patient_risk_score"/>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="Age"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="births"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="pregnancies"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="literacy"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="poverty"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="anc"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="pnc"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="sba"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="hiv_prev"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="hiv_count"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="condom"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="intercourse"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="in_union"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="circumcision"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="partner_away"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="partner_men"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="partner_women"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="sti"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="fb"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="n_appts"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="missed1"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="missed5"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="missed30"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="missed1_last5"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="missed5_last5"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="missed30_last5"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="num_hiv_regimens"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="n_visits_lastfive"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="n_unscheduled_lastfive"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="BMI"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="changeInBMI"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="Weight"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="changeInWeight"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="num_adherence_ART"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="num_adherence_CTX"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="num_poor_ART"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="num_poor_CTX"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="num_fair_ART"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="num_fair_CTX"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="n_tests_all"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="n_hvl_all"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="n_tests_threeyears"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="n_hvl_threeyears"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="timeOnArt"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="AgeARTStart"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="recent_hvl_rate"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="total_hvl_rate"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="art_poor_adherence_rate"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="art_fair_adherence_rate"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="ctx_poor_adherence_rate"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="ctx_fair_adherence_rate"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="unscheduled_rate"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="all_late30_rate"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="all_late5_rate"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="all_late1_rate"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="recent_late30_rate"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="recent_late5_rate"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="recent_late1_rate"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="GenderMale"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="GenderFemale"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="PatientSourceCCC"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="PatientSourceIPDAdult"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="PatientSourceMCH"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="PatientSourceOPD"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="PatientSourceOther"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="PatientSourceTBClinic"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="PatientSourceVCT"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="MaritalStatusDivorced"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="MaritalStatusMarried"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="MaritalStatusOther"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="MaritalStatusPolygamous"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="MaritalStatusSingle"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="MaritalStatusWidow"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="PopulationTypeGeneralPopulation"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="PopulationTypeKeyPopulation"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="PopulationTypePriorityPopulation"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="TreatmentTypeART"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="TreatmentTypePMTCT"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="OptimizedHIVRegimenNo"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="OptimizedHIVRegimenYes"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="Other_RegimenNo"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="Other_RegimenYes"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="PregnantNo"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="PregnantYes"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="PregnantNR"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="DifferentiatedCareCommunityARTDistributionHCWLed"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="DifferentiatedCareCommunityARTDistributionpeerled"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="DifferentiatedCareFacilityARTdistributionGroup"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="DifferentiatedCareFastTrack"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="DifferentiatedCareStandardCare"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="most_recent_art_adherencefair"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="most_recent_art_adherencegood"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="most_recent_art_adherencepoor"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="most_recent_ctx_adherencefair"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="most_recent_ctx_adherencegood"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="most_recent_ctx_adherencepoor"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="StabilityAssessmentStable"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="StabilityAssessmentUnstable"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="most_recent_vlHVL"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="most_recent_vlLVL"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="most_recent_vlSuppressed"/>
            </not>
            <not>
                <columnExists tableName="kenyaemr_ml_patient_risk_score" columnName="label"/>
            </not>
        </preConditions>
        <addColumn tableName="kenyaemr_ml_patient_risk_score">
            <column name="Age" type="varchar(128)"/>
            <column name="births" type="varchar(128)"/>
            <column name="pregnancies" type="varchar(128)"/>
            <column name="literacy" type="varchar(128)"/>
            <column name="poverty" type="varchar(128)"/>
            <column name="anc" type="varchar(128)"/>
            <column name="pnc" type="varchar(128)"/>
            <column name="sba" type="varchar(128)"/>
            <column name="hiv_prev" type="varchar(128)"/>
            <column name="hiv_count" type="varchar(128)"/>
            <column name="condom" type="varchar(128)"/>
            <column name="intercourse" type="varchar(128)"/>
            <column name="in_union" type="varchar(128)"/>
            <column name="circumcision" type="varchar(128)"/>
            <column name="partner_away" type="varchar(128)"/>
            <column name="partner_men" type="varchar(128)"/>
            <column name="partner_women" type="varchar(128)"/>
            <column name="sti" type="varchar(128)"/>
            <column name="fb" type="varchar(128)"/>
            <column name="n_appts" type="varchar(128)"/>
            <column name="missed1" type="varchar(128)"/>
            <column name="missed5" type="varchar(128)"/>
            <column name="missed30" type="varchar(128)"/>
            <column name="missed1_last5" type="varchar(128)"/>
            <column name="missed5_last5" type="varchar(128)"/>
            <column name="missed30_last5" type="varchar(128)"/>
            <column name="num_hiv_regimens" type="varchar(128)"/>
            <column name="n_visits_lastfive" type="varchar(128)"/>
            <column name="n_unscheduled_lastfive" type="varchar(128)"/>
            <column name="BMI" type="varchar(128)"/>
            <column name="changeInBMI" type="varchar(128)"/>
            <column name="Weight" type="varchar(128)"/>
            <column name="changeInWeight" type="varchar(128)"/>
            <column name="num_adherence_ART" type="varchar(128)"/>
            <column name="num_adherence_CTX" type="varchar(128)"/>
            <column name="num_poor_ART" type="varchar(128)"/>
            <column name="num_poor_CTX" type="varchar(128)"/>
            <column name="num_fair_ART" type="varchar(128)"/>
            <column name="num_fair_CTX" type="varchar(128)"/>
            <column name="n_tests_all" type="varchar(128)"/>
            <column name="n_hvl_all" type="varchar(128)"/>
            <column name="n_tests_threeyears" type="varchar(128)"/>
            <column name="n_hvl_threeyears" type="varchar(128)"/>
            <column name="timeOnArt" type="varchar(128)"/>
            <column name="AgeARTStart" type="varchar(128)"/>
            <column name="recent_hvl_rate" type="varchar(128)"/>
            <column name="total_hvl_rate" type="varchar(128)"/>
            <column name="art_poor_adherence_rate" type="varchar(128)"/>
            <column name="art_fair_adherence_rate" type="varchar(128)"/>
            <column name="ctx_poor_adherence_rate" type="varchar(128)"/>
            <column name="ctx_fair_adherence_rate" type="varchar(128)"/>
            <column name="unscheduled_rate" type="varchar(128)"/>
            <column name="all_late30_rate" type="varchar(128)"/>
            <column name="all_late5_rate" type="varchar(128)"/>
            <column name="all_late1_rate" type="varchar(128)"/>
            <column name="recent_late30_rate" type="varchar(128)"/>
            <column name="recent_late5_rate" type="varchar(128)"/>
            <column name="recent_late1_rate" type="varchar(128)"/>
            <column name="GenderMale" type="varchar(128)"/>
            <column name="GenderFemale" type="varchar(128)"/>
            <column name="PatientSourceCCC" type="varchar(128)"/>
            <column name="PatientSourceIPDAdult" type="varchar(128)"/>
            <column name="PatientSourceMCH" type="varchar(128)"/>
            <column name="PatientSourceOPD" type="varchar(128)"/>
            <column name="PatientSourceOther" type="varchar(128)"/>
            <column name="PatientSourceTBClinic" type="varchar(128)"/>
            <column name="PatientSourceVCT" type="varchar(128)"/>
            <column name="MaritalStatusDivorced" type="varchar(128)"/>
            <column name="MaritalStatusMarried" type="varchar(128)"/>
            <column name="MaritalStatusOther" type="varchar(128)"/>
            <column name="MaritalStatusPolygamous" type="varchar(128)"/>
            <column name="MaritalStatusSingle" type="varchar(128)"/>
            <column name="MaritalStatusWidow" type="varchar(128)"/>
            <column name="PopulationTypeGeneralPopulation" type="varchar(128)"/>
            <column name="PopulationTypeKeyPopulation" type="varchar(128)"/>
            <column name="PopulationTypePriorityPopulation" type="varchar(128)"/>
            <column name="TreatmentTypeART" type="varchar(128)"/>
            <column name="TreatmentTypePMTCT" type="varchar(128)"/>
            <column name="OptimizedHIVRegimenNo" type="varchar(128)"/>
            <column name="OptimizedHIVRegimenYes" type="varchar(128)"/>
            <column name="Other_RegimenNo" type="varchar(128)"/>
            <column name="Other_RegimenYes" type="varchar(128)"/>
            <column name="PregnantNo" type="varchar(128)"/>
            <column name="PregnantYes" type="varchar(128)"/>
            <column name="PregnantNR" type="varchar(128)"/>
            <column name="DifferentiatedCareCommunityARTDistributionHCWLed" type="varchar(128)"/>
            <column name="DifferentiatedCareCommunityARTDistributionpeerled" type="varchar(128)"/>
            <column name="DifferentiatedCareFacilityARTdistributionGroup" type="varchar(128)"/>
            <column name="DifferentiatedCareFastTrack" type="varchar(128)"/>
            <column name="DifferentiatedCareStandardCare" type="varchar(128)"/>
            <column name="most_recent_art_adherencefair" type="varchar(128)"/>
            <column name="most_recent_art_adherencegood" type="varchar(128)"/>
            <column name="most_recent_art_adherencepoor" type="varchar(128)"/>
            <column name="most_recent_ctx_adherencefair" type="varchar(128)"/>
            <column name="most_recent_ctx_adherencegood" type="varchar(128)"/>
            <column name="most_recent_ctx_adherencepoor" type="varchar(128)"/>
            <column name="StabilityAssessmentStable" type="varchar(128)"/>
            <column name="StabilityAssessmentUnstable" type="varchar(128)"/>
            <column name="most_recent_vlHVL" type="varchar(128)"/>
            <column name="most_recent_vlLVL" type="varchar(128)"/>
            <column name="most_recent_vlSuppressed" type="varchar(128)"/>
            <column name="label" type="varchar(128)"/>
        </addColumn>
    </changeSet>
 
</databaseChangeLog>